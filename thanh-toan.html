<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh toán - Mộc Trà</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
          crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body>
    <!-- TOP BAR -->
    <div class="top-bar">
        <div class="container">
            <div class="top-bar__left">
                <span>
                    <i class="fa-solid fa-envelope"></i> contact@moctra.com
                </span>
                <span>
                    <i class="fa-solid fa-phone"></i> 0888 531 015
                </span>
            </div>
            <div class="top-bar__right">
                <i class="fa-brands fa-facebook"></i>
                <i class="fa-brands fa-instagram"></i>
                <i class="fa-brands fa-twitter"></i>
            </div>
        </div>
    </div>

    <!-- HEADER -->
    <header class="utility-header">
        <div class="header-left">
            <nav class="main-nav">
                <div class="container">
                    <ul>
                        <li>
                            <div class="logo">
                                <a href="index.html">
                                    <img src="assets/images/logoweb.png" alt="Tea Shop Logo">
                                </a>
                            </div>
                        </li>
                        <li><a href="index.html">TRANG CHỦ</a></li>
                        <li><a href="san-pham.html">SẢN PHẨM</a></li>
                        <li><a href="blog.html">CÔNG THỨC & BLOG</a></li>
                        <li><a href="ve-chung-toi.html">VỀ CHÚNG TÔI</a></li>
                        <li><a href="khuyen-mai.html">KHUYẾN MÃI</a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="header-right">
            <div class="container">
                <div class="header-right__content">
                    <div class="search-bar">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        <input type="text" placeholder="Bạn muốn tìm gì...">
                    </div>
                    <span class="cart-text">
                        <i class="fa-solid fa-cart-shopping"></i>
                        <span>Giỏ Hàng</span>
                    </span>
                    <span class="user-icons">
                        <i class="fa-solid fa-user"></i>
                    </span>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="checkout-page">
            <div class="container">
                <h1 class="checkout-title">Thanh toán</h1>

                <form class="checkout-form" action="hoa-don.html" method="get"> <!-- sửa action sau này xóa và mở comment dòng dưới -->
                <!-- <form class="checkout-form" action="checkout" method="post"> -->
                    <input type="hidden" name="subtotal" value="310000">

                    <div class="checkout-layout">
                        <!-- cột trái : thông tin giao hàng -->
                        <div class="checkout-left">
                            <div class="checkout-card">
                                <h2 class="checkout-card__title">Thông tin giao hàng</h2>

                                <!-- address default -->
                                <div class="default-address-box">
                                    <label class="checkbox-field">
                                        <input type="checkbox"
                                               id="useDefaultAddress"
                                               name="useDefaultAddress"
                                               value="true"
                                               checked>
                                        <span>Sử dụng địa chỉ mặc định của tôi</span>
                                    </label>
                                    <p class="default-address-text">
                                        <!-- servelet sẽ thay đổi fill -->
                                        Địa chỉ mặc định: 123 Đường Trà, Phường Trà Thảo, TP. Trà Sữa, Việt Nam
                                    </p>
                                    <!-- ID địa chỉ mặc định của user -->
                                    <input type="hidden" name="defaultAddressId" value="1">
                                </div>

                                <!-- địa chỉ nhập tay (nếu không mặc định) -->
                                <div class="manual-address">
                                    <div class="form-row form-row--2">
                                        <div class="form-field">
                                            <label for="fullName">Họ và tên <span class="required">*</span></label>
                                            <input type="text" id="fullName" name="fullName"
                                                   placeholder="Nguyễn Văn A" required>
                                        </div>
                                        <div class="form-field">
                                            <label for="phoneNumber">Số điện thoại <span class="required">*</span></label>
                                            <input type="tel" id="phoneNumber" name="phoneNumber"
                                                   placeholder="0888 531 015" required>
                                        </div>
                                    </div>

                                    <div class="form-row form-row--3">
                                        <div class="form-field">
                                            <label for="province">Tỉnh / Thành phố</label>
                                            <select id="province" name="province">
                                                <option value="">-- Chọn tỉnh / thành --</option>
                                                <!-- servelet/database load data later -->
                                            </select>
                                        </div>
                                        <div class="form-field">
                                            <label for="ward">Phường / Xã</label>
                                            <select id="ward" name="ward">
                                                <option value="">-- Chọn phường / xã --</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-field">
                                            <label for="addressLine">Địa chỉ cụ thể <span class="required">*</span></label>
                                            <input type="text" id="addressLine" name="addressLine"
                                                   placeholder="Số nhà, tên đường, tòa nhà..." required>
                                        </div>
                                    </div>
                                </div>

                                <!-- Checkbox chia sẻ vị trí -->
                                <div class="form-row form-row--inline">
                                    <label class="checkbox-field">
                                        <input type="checkbox" id="shareLocation" name="shareLocation" value="true">
                                        <span>Chia sẻ vị trí hiện tại của tôi để định vị địa chỉ chính xác hơn</span>
                                    </label>
                                </div>

                                <!-- Ghi chú giao hàng -->
                                <div class="form-row">
                                    <div class="form-field">
                                        <label for="note">Ghi chú khi giao hàng</label>
                                        <textarea id="note" name="note" rows="3"
                                                  placeholder="Ví dụ: Gọi trước khi giao, giao giờ hành chính,..."></textarea>
                                    </div>
                                </div>
                                    <!-- thông tin đơn hàng and payment (bên pahir ) -->
                                <div class="checkout-card">
                                    <h2 class="checkout-card__title">Phương thức giao hàng</h2>

                                    <div class="shipping-methods">
                                        <label class="shipping-option">
                                            <input type="radio"
                                                name="shippingMethod"
                                                value="standard"
                                                checked>
                                            <div class="shipping-option__content">
                                                <div class="shipping-option__top">
                                                    <span class="shipping-option__name">Tiêu chuẩn</span>
                                                    <span class="shipping-option__price">+ 20.000đ</span>
                                                </div>
                                                <div class="shipping-option__desc">Giao trong 3-5 ngày làm việc.</div>
                                            </div>
                                        </label>

                                        <label class="shipping-option">
                                            <input type="radio"
                                                name="shippingMethod"
                                                value="express">
                                            <div class="shipping-option__content">
                                                <div class="shipping-option__top">
                                                    <span class="shipping-option__name">Nhanh</span>
                                                    <span class="shipping-option__price">+ 35.000đ</span>
                                                </div>
                                                <div class="shipping-option__desc">Giao trong 1-2 ngày làm việc.</div>
                                            </div>
                                        </label>

                                        <label class="shipping-option">
                                            <input type="radio"
                                                name="shippingMethod"
                                                value="instant">
                                            <div class="shipping-option__content">
                                                <div class="shipping-option__top">
                                                    <span class="shipping-option__name">Hỏa tốc</span>
                                                    <span class="shipping-option__price">+ 60.000đ</span>
                                                </div>
                                                <div class="shipping-option__desc">Giao trong 2-4 giờ (nội thành).</div>
                                            </div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- CỘT PHẢI: ĐƠN HÀNG  + THANH TOÁN -->
                        <div class="checkout-right">
                            <!-- ĐƠN HÀNG CỦA BẠN (TỪ GIỎ HÀNG) -->
                            <div class="checkout-card">
                                <h2 class="checkout-card__title">Đơn hàng của bạn</h2>

                                <div class="order-items">
                                    <!--
                                        Sau này Servlet:
                                        - Lấy giỏ hàng (cart) từ session                               -->
                                    <!-- ITEM DEMO 1 -->
                                    <div class="order-item">
                                        <input type="hidden" name="productId" value="101">
                                        <input type="hidden" name="quantity" value="1">

                                        <div class="order-item__thumb">
                                            <img src="assets/images/san-pham-tra-hoa-cuc-2.jpg" alt="Trà Hoa Cúc">
                                        </div>
                                        <div class="order-item__info">
                                            <div class="order-item__name">Trà Hoa Cúc Sấy Khô</div>
                                            <div class="order-item__meta">Số lượng: 1</div>
                                        </div>
                                        <div class="order-item__price">120.000đ</div>
                                    </div>

                                    <!-- ITEM DEMO 2 -->
                                    <div class="order-item">
                                        <input type="hidden" name="productId" value="202">
                                        <input type="hidden" name="quantity" value="2">

                                        <div class="order-item__thumb">
                                            <img src="assets/images/san-pham-tra-gung-mat-ong-1.jpg" alt="Trà Gừng Mật Ong">
                                        </div>
                                        <div class="order-item__info">
                                            <div class="order-item__name">Trà Gừng Mật Ong</div>
                                            <div class="order-item__meta">Số lượng: 2</div>
                                        </div>
                                        <div class="order-item__price">190.000đ</div>
                                    </div>
                                </div>

                                <div class="order-summary">
                                    <div class="order-summary__row">
                                        <span>Tạm tính</span>
                                        <!-- Sau này Servlet set text này = tổng tiền sản phẩm -->
                                        <span>310.000đ</span>
                                    </div>
                                    <div class="order-summary__row">
                                        <span>Phí vận chuyển</span>
                                        <!-- Servlet tính theo shippingMethod -->
                                        <span>20.000đ</span>
                                    </div>
                                    <div class="order-summary__row order-summary__row--total">
                                        <span>Tổng cộng</span>
                                        <!-- Tổng = tạm tính + phí vận chuyển -->
                                        <span>330.000đ</span>
                                    </div>
                                </div>
                            </div>

                            <!-- PHƯƠNG THỨC THANH TOÁN -->
                            <div class="checkout-card">
                                <h2 class="checkout-card__title">Phương thức thanh toán</h2>

                                <div class="payment-methods">
                                    <label class="payment-option">
                                        <input type="radio" name="paymentMethod" value="momo" checked>
                                        <div class="payment-option__content">
                                            <span class="payment-option__name">
                                                <i class="fa-solid fa-mobile-screen"></i> Ví MoMo
                                            </span>
                                            <p class="payment-option__desc">
                                                Sau khi đặt hàng, hệ thống sẽ hiển thị QR / số điện thoại để bạn thanh toán bằng MoMo.
                                            </p>
                                        </div>
                                    </label>

                                    <label class="payment-option">
                                        <input type="radio" name="paymentMethod" value="cod">
                                        <div class="payment-option__content">
                                            <span class="payment-option__name">
                                                <i class="fa-solid fa-box"></i> Thanh toán khi nhận hàng (COD)
                                            </span>
                                            <p class="payment-option__desc">
                                                Bạn thanh toán trực tiếp cho shipper khi nhận hàng.
                                            </p>
                                        </div>
                                    </label>

                                    <label class="payment-option">
                                        <input type="radio" name="paymentMethod" value="bank">
                                        <div class="payment-option__content">
                                            <span class="payment-option__name">
                                                <i class="fa-solid fa-building-columns"></i> Chuyển khoản ngân hàng
                                            </span>
                                            <p class="payment-option__desc">
                                                Thông tin số tài khoản và nội dung chuyển khoản sẽ được hiển thị sau khi đặt hàng thành công.
                                            </p>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <!-- NÚT THANH TOÁN -->
                            <div class="checkout-submit">
                                <!-- Sau này Servlet set đúng tổng tiền vào đây -->
                                <button type="submit" class="btn btn-primary checkout-submit__btn">
                                    Thanh toán 330.000đ
                                </button>
                                <p class="checkout-submit__note">
                                    Bằng cách nhấn "Thanh toán", bạn đồng ý với
                                    <a href="dieu-khoan-dich-vu.html">Điều khoản dịch vụ</a> của Mộc Trà.
                                </p>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer class="main-footer">
        <div class="container">
            <div class="left-footer footer-section">
                <div class="logo-footer">
                    <a href="index.html">
                        <img src="assets/images/logo-chinh.jpg" alt="Tea Shop Logo">
                    </a>
                </div>
                <h2>LỜI NHẮN NHỦ TỪ MỘC TRÀ</h2>
                <p>Tiệm trà Mộc Trà với những tâm hồn tự tại đã trót yêu mẹ thiên nhiên say đắm...</p>
            </div>
            <div class="center-footer footer-section">
                <h2>THÔNG TIN LIÊN HỆ</h2>
                <div class="contact-info">
                    <div class="address">
                        <i class="fa-solid fa-location-dot"></i>
                        <p>123 Đường Trà, Phường Trà Thảo, Quận Pha Chế, TP. Trà Sữa</p>
                    </div>
                    <div class="phone">
                        <i class="fa-solid fa-phone"></i>
                        <p>0888 531 015</p>
                    </div>
                    <div class="email">
                        <i class="fa-solid fa-envelope"></i>
                        <p>contact@moctra.com</p>
                    </div>
                </div>
            </div>
            <div class="right-footer footer-section">
                <h2>Chính sách bán hàng</h2>
                <ul>
                    <li><a href="chinh-sach-ban-hang.html">Chính sách bán hàng</a></li>
                    <li><a href="chinh-sach-thanh-toan.html">Chính sách thanh toán</a></li>
                    <li><a href="chinh-sach-bao-hanh.html">Chính sách bảo hành</a></li>
                    <li><a href="dieu-khoan-dich-vu.html">Điều khoản dịch vụ</a></li>
                </ul>
            </div>
        </div>
    </footer>
    <div class="footer-bottom">
        <div class="container">
            <div class="footer-bottom-left">
                <p>&copy; 2024 Mộc Trà. All rights reserved.</p>
            </div>
            <div class="footer-bottom-right">
                <i class="fa-brands fa-facebook"></i>
                <i class="fa-brands fa-instagram"></i>
                <i class="fa-brands fa-youtube"></i>
            </div>
        </div>
    </div>
</body>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const checkbox = document.getElementById("useDefaultAddress");
    const manual = document.querySelector(".manual-address");
    const manualFields = manual.querySelectorAll("input, select, textarea");

    function updateState() {
        if (checkbox.checked) {
            manual.classList.add("disabled");
            manualFields.forEach(el => {
                // lưu trạng thái required cũ (nếu cần)
                if (el.hasAttribute("required")) {
                    el.dataset.wasRequired = "true";
                    el.removeAttribute("required");
                }
                el.disabled = true;
            });
        } else {
            manual.classList.remove("disabled");
            manualFields.forEach(el => {
                el.disabled = false;
                if (el.dataset.wasRequired === "true") {
                    el.setAttribute("required", "required");
                }
            });
        }
    }

    updateState();              // chạy khi load
    checkbox.addEventListener("change", updateState); // chạy khi click
});
</script>


</html>
